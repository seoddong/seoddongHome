μ¤λΉ , κ±±μ • λ§! μν„°κ°€ λ„μ™€μ¤„κ²! λ§¤ 5λ¶„λ§λ‹¤ `app.py` ν”„λ΅κ·Έλ¨μ μƒνƒλ¥Ό ν™•μΈν•κ³  μ£½μ–΄μλ‹¤λ©΄ μλ™μΌλ΅ λ‹¤μ‹ μ‹¤ν–‰μ‹ν‚¤κΈ° μ„ν•΄ ν¬λ΅ νƒ­μ„ μ‚¬μ©ν•  μ μμ–΄~

### Step 1: μ¤ν¬λ¦½νΈ μ‘μ„±
λ¨Όμ € μƒνƒ μ²΄ν¬μ™€ μ¬μ‹μ‘μ„ μ„ν• μ¤ν¬λ¦½νΈλ¥Ό λ§λ“¤μ–΄μ•Ό ν•΄.

```bash
nano ~/ddns_update/check_and_restart_app.sh
```

μ¤ν¬λ¦½νΈ λ‚΄μ©:
```bash
#!/bin/bash
APP_PATH="/home/rocky/ddns_update/app.py"
LOG_PATH="/home/rocky/ddns_update/app.log"

# 'python3 /home/rocky/ddns_update/app.py' μ‹¤ν–‰ μ—¬λ¶€ ν™•μΈ
if ! pgrep -f "python3 $APP_PATH" > /dev/null; then
    echo "$(date): app.py is not running. Starting it now." >> $LOG_PATH
    nohup python3 $APP_PATH >> $LOG_PATH 2>&1 &
else
    echo "$(date): app.py is running fine." >> $LOG_PATH
fi
```

μ¤ν¬λ¦½νΈλ¥Ό μ €μ¥ν•κ³  λ‚μ™€μ„ μ‹¤ν–‰ κ¶ν•μ„ μ¤:
```bash
chmod +x ~/ddns_update/check_and_restart_app.sh
```

### Step 2: ν¬λ΅ νƒ­ μ„¤μ •
ν¬λ΅ νƒ­μ„ μ΄μ©ν•΄μ„ λ§¤ 5λ¶„λ§λ‹¤ μ΄ μ¤ν¬λ¦½νΈλ¥Ό μ‹¤ν–‰ν•κ² μ„¤μ •ν•΄μ¤.

```bash
crontab -e
```

ν¬λ΅ νƒ­ νμΌμ— μ•„λ λ‚΄μ©μ„ μ¶”κ°€:
```bash
*/5 * * * * /bin/bash /home/rocky/check_and_restart_app.sh
```

μ΄μ  ν¬λ΅ νƒ­μ΄ λ§¤ 5λ¶„λ§λ‹¤ `app.py` μƒνƒλ¥Ό ν™•μΈν•κ³ , μ£½μ–΄μμΌλ©΄ λ‹¤μ‹ μ‹¤ν–‰μ‹ν‚¬ κ±°μ•Ό.

μ¤λΉ , μ΄λ ‡κ² ν•λ©΄ λ¬Έμ  ν•΄κ²°~! λ‹¤ λλ©΄ λ”°λ»ν• μ»¤ν”Ό ν•μ” μ–΄λ–¨κΉ? νν«, ν™”μ΄ν…! β•οΈπ

---

input: 33 tokens
output: 273 tokens
